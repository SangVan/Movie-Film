{"ast":null,"code":"import _regeneratorRuntime from \"D:/HTML/FRONT_END_MyClass.vn/react/DemoTwlwindCSS/install-tailwind-css-in-reactjs/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"D:/HTML/FRONT_END_MyClass.vn/react/DemoTwlwindCSS/install-tailwind-css-in-reactjs/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { quanLyPhimService } from \"../../services/QuanLyPhimService\";\nimport { GET_DANH_SACH_PHIM_KEYWORD, SET_DANH_SACH_PHIM, SET_THONG_TIN_PHIM } from \"./types/QuanLyPhimType\";\nimport Swal from \"sweetalert2\";\nimport { history } from \"../../App\"; // import history from '../history';\n\nexport var layDanhSachPhimAction = function layDanhSachPhimAction() {\n  return /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(dispatch) {\n      var result;\n      return _regeneratorRuntime().wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              _context.next = 3;\n              return quanLyPhimService.layDanhSachPhim();\n\n            case 3:\n              result = _context.sent;\n              dispatch({\n                type: SET_DANH_SACH_PHIM,\n                arrFilm: result.data.content\n              });\n              _context.next = 10;\n              break;\n\n            case 7:\n              _context.prev = 7;\n              _context.t0 = _context[\"catch\"](0);\n              console.log(\"errors\", _context.t0);\n\n            case 10:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[0, 7]]);\n    }));\n\n    return function (_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n};\nexport var layDanhSachPhimKeyWordAction = function layDanhSachPhimKeyWordAction(keyWord) {\n  return /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(dispatch) {\n      var result;\n      return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.prev = 0;\n              _context2.next = 3;\n              return quanLyPhimService.layDanhSachPhimKeyWord(keyWord);\n\n            case 3:\n              result = _context2.sent;\n              dispatch({\n                type: GET_DANH_SACH_PHIM_KEYWORD,\n                arrFilmSearch: result.data.content\n              });\n              _context2.next = 10;\n              break;\n\n            case 7:\n              _context2.prev = 7;\n              _context2.t0 = _context2[\"catch\"](0);\n              console.log(\"errors\", _context2.t0);\n\n            case 10:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2, null, [[0, 7]]);\n    }));\n\n    return function (_x2) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n};\nexport var themMoiPhimAction = function themMoiPhimAction(formData) {\n  return /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3() {\n    var result;\n    return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            _context3.prev = 0;\n            _context3.next = 3;\n            return quanLyPhimService.themMoiPhim(formData);\n\n          case 3:\n            result = _context3.sent;\n\n            if (!(result.data.statusCode === 200)) {\n              _context3.next = 8;\n              break;\n            }\n\n            _context3.next = 7;\n            return Swal.fire({\n              title: \"Thêm mới thành công!\",\n              icon: \"success\",\n              html: \"Tự động chuyển sang danh sách phim sau 3 giây\",\n              timer: 3000,\n              timerProgressBar: true,\n              confirmButtonText: \"Ok\"\n            });\n\n          case 7:\n            // history.goBack();\n            history.back();\n\n          case 8:\n            _context3.next = 13;\n            break;\n\n          case 10:\n            _context3.prev = 10;\n            _context3.t0 = _context3[\"catch\"](0);\n            Swal.fire({\n              title: \"Error!\",\n              text: _context3.t0.response.data,\n              icon: \"error\",\n              confirmButtonText: \"Thử lại\"\n            });\n\n          case 13:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, _callee3, null, [[0, 10]]);\n  }));\n};\nexport var capNhatPhimAction = function capNhatPhimAction(formData) {\n  return /*#__PURE__*/function () {\n    var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee4(dispatch) {\n      var result;\n      return _regeneratorRuntime().wrap(function _callee4$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              _context4.prev = 0;\n              _context4.next = 3;\n              return quanLyPhimService.capNhatPhimUpload(formData);\n\n            case 3:\n              result = _context4.sent;\n\n              if (!(result.data.statusCode === 200)) {\n                _context4.next = 10;\n                break;\n              }\n\n              _context4.next = 7;\n              return Swal.fire({\n                title: \"Cập nhật thành công!\",\n                icon: \"success\",\n                html: \"Tự động chuyển sang danh sách phim sau 3 giây\",\n                timer: 3000,\n                timerProgressBar: true,\n                confirmButtonText: \"Ok\"\n              });\n\n            case 7:\n              _context4.next = 9;\n              return dispatch(layDanhSachPhimAction());\n\n            case 9:\n              history.push(\"/admin/films\");\n\n            case 10:\n              _context4.next = 15;\n              break;\n\n            case 12:\n              _context4.prev = 12;\n              _context4.t0 = _context4[\"catch\"](0);\n              Swal.fire({\n                title: \"Error!\",\n                text: _context4.t0.response.data.content,\n                icon: \"error\",\n                confirmButtonText: \"Thử lại\"\n              });\n\n            case 15:\n            case \"end\":\n              return _context4.stop();\n          }\n        }\n      }, _callee4, null, [[0, 12]]);\n    }));\n\n    return function (_x3) {\n      return _ref4.apply(this, arguments);\n    };\n  }();\n};\nexport var layThongTinPhimAction = function layThongTinPhimAction(maPhim) {\n  return /*#__PURE__*/function () {\n    var _ref5 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee5(dispatch) {\n      var result;\n      return _regeneratorRuntime().wrap(function _callee5$(_context5) {\n        while (1) {\n          switch (_context5.prev = _context5.next) {\n            case 0:\n              _context5.prev = 0;\n              _context5.next = 3;\n              return quanLyPhimService.layThongTinPhim(maPhim);\n\n            case 3:\n              result = _context5.sent;\n              dispatch({\n                type: SET_THONG_TIN_PHIM,\n                thongTinPhim: result.data.content\n              });\n              _context5.next = 10;\n              break;\n\n            case 7:\n              _context5.prev = 7;\n              _context5.t0 = _context5[\"catch\"](0);\n              console.log(\"errors\", _context5.t0);\n\n            case 10:\n            case \"end\":\n              return _context5.stop();\n          }\n        }\n      }, _callee5, null, [[0, 7]]);\n    }));\n\n    return function (_x4) {\n      return _ref5.apply(this, arguments);\n    };\n  }();\n};\nexport var xoaPhimAction = function xoaPhimAction(maPhim) {\n  return /*#__PURE__*/function () {\n    var _ref6 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee6(dispatch) {\n      return _regeneratorRuntime().wrap(function _callee6$(_context6) {\n        while (1) {\n          switch (_context6.prev = _context6.next) {\n            case 0:\n              try {\n                Swal.fire({\n                  title: \"Bạn chắc chắn xoá phim này?\",\n                  text: \"Thao tác sẽ không thể hoàn lại\",\n                  icon: \"warning\",\n                  showCancelButton: true,\n                  confirmButtonColor: \"#3085d6\",\n                  cancelButtonColor: \"#d33\",\n                  confirmButtonText: \"Chắc chắn\"\n                }).then(function (result) {\n                  if (result.isConfirmed) {\n                    quanLyPhimService.xoaPhim(maPhim);\n                    Swal.fire(\"Đã xoá\", \"Phim của bạn đã được xoá\", \"success\");\n                    dispatch(layDanhSachPhimAction());\n                  }\n                });\n              } catch (errors) {\n                Swal.fire({\n                  title: \"Error!\",\n                  text: errors.response.data.content,\n                  icon: \"error\",\n                  confirmButtonText: \"Thử lại\"\n                });\n              }\n\n            case 1:\n            case \"end\":\n              return _context6.stop();\n          }\n        }\n      }, _callee6);\n    }));\n\n    return function (_x5) {\n      return _ref6.apply(this, arguments);\n    };\n  }();\n};","map":{"version":3,"names":["quanLyPhimService","GET_DANH_SACH_PHIM_KEYWORD","SET_DANH_SACH_PHIM","SET_THONG_TIN_PHIM","Swal","history","layDanhSachPhimAction","dispatch","layDanhSachPhim","result","type","arrFilm","data","content","console","log","layDanhSachPhimKeyWordAction","keyWord","layDanhSachPhimKeyWord","arrFilmSearch","themMoiPhimAction","formData","themMoiPhim","statusCode","fire","title","icon","html","timer","timerProgressBar","confirmButtonText","back","text","response","capNhatPhimAction","capNhatPhimUpload","push","layThongTinPhimAction","maPhim","layThongTinPhim","thongTinPhim","xoaPhimAction","showCancelButton","confirmButtonColor","cancelButtonColor","then","isConfirmed","xoaPhim","errors"],"sources":["D:/HTML/FRONT_END_MyClass.vn/react/DemoTwlwindCSS/install-tailwind-css-in-reactjs/src/redux/actions/QuanLyPhimActions.js"],"sourcesContent":["import { quanLyPhimService } from \"../../services/QuanLyPhimService\";\nimport {\n  GET_DANH_SACH_PHIM_KEYWORD,\n  SET_DANH_SACH_PHIM,\n  SET_THONG_TIN_PHIM,\n} from \"./types/QuanLyPhimType\";\nimport Swal from \"sweetalert2\";\nimport { history } from \"../../App\";\n// import history from '../history';\nexport const layDanhSachPhimAction = () => {\n  return async (dispatch) => {\n    try {\n      const result = await quanLyPhimService.layDanhSachPhim();\n      dispatch({\n        type: SET_DANH_SACH_PHIM,\n        arrFilm: result.data.content,\n      });\n    } catch (errors) {\n      console.log(\"errors\", errors);\n    }\n  };\n};\n\nexport const layDanhSachPhimKeyWordAction = (keyWord) => {\n  return async (dispatch) => {\n    try {\n      const result = await quanLyPhimService.layDanhSachPhimKeyWord(keyWord);\n\n      dispatch({\n        type: GET_DANH_SACH_PHIM_KEYWORD,\n        arrFilmSearch: result.data.content,\n      });\n    } catch (errors) {\n      console.log(\"errors\", errors);\n    }\n  };\n};\n\nexport const themMoiPhimAction = (formData) => {\n  return async () => {\n    try {\n      const result = await quanLyPhimService.themMoiPhim(formData);\n      if (result.data.statusCode === 200) {\n        await Swal.fire({\n          title: \"Thêm mới thành công!\",\n          icon: \"success\",\n          html: \"Tự động chuyển sang danh sách phim sau 3 giây\",\n          timer: 3000,\n          timerProgressBar: true,\n          confirmButtonText: \"Ok\",\n        });\n        // history.goBack();\n        history.back();\n      }\n    } catch (errors) {\n      Swal.fire({\n        title: \"Error!\",\n        text: errors.response.data,\n        icon: \"error\",\n        confirmButtonText: \"Thử lại\",\n      });\n    }\n  };\n};\n\nexport const capNhatPhimAction = (formData) => {\n  return async (dispatch) => {\n    try {\n      const result = await quanLyPhimService.capNhatPhimUpload(formData);\n      if (result.data.statusCode === 200) {\n        await Swal.fire({\n          title: \"Cập nhật thành công!\",\n          icon: \"success\",\n          html: \"Tự động chuyển sang danh sách phim sau 3 giây\",\n          timer: 3000,\n          timerProgressBar: true,\n          confirmButtonText: \"Ok\",\n        });\n        await dispatch(layDanhSachPhimAction());\n        history.push(\"/admin/films\");\n      }\n    } catch (errors) {\n      Swal.fire({\n        title: \"Error!\",\n        text: errors.response.data.content,\n        icon: \"error\",\n        confirmButtonText: \"Thử lại\",\n      });\n    }\n  };\n};\n\nexport const layThongTinPhimAction = (maPhim) => {\n  return async (dispatch) => {\n    try {\n      const result = await quanLyPhimService.layThongTinPhim(maPhim);\n\n      dispatch({\n        type: SET_THONG_TIN_PHIM,\n        thongTinPhim: result.data.content,\n      });\n    } catch (errors) {\n      console.log(\"errors\", errors);\n    }\n  };\n};\n\nexport const xoaPhimAction = (maPhim) => {\n  return async (dispatch) => {\n    try {\n      Swal.fire({\n        title: \"Bạn chắc chắn xoá phim này?\",\n        text: \"Thao tác sẽ không thể hoàn lại\",\n        icon: \"warning\",\n        showCancelButton: true,\n        confirmButtonColor: \"#3085d6\",\n        cancelButtonColor: \"#d33\",\n        confirmButtonText: \"Chắc chắn\",\n      }).then((result) => {\n        if (result.isConfirmed) {\n          quanLyPhimService.xoaPhim(maPhim);\n          Swal.fire(\"Đã xoá\", \"Phim của bạn đã được xoá\", \"success\");\n          dispatch(layDanhSachPhimAction());\n        }\n      });\n    } catch (errors) {\n      Swal.fire({\n        title: \"Error!\",\n        text: errors.response.data.content,\n        icon: \"error\",\n        confirmButtonText: \"Thử lại\",\n      });\n    }\n  };\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}